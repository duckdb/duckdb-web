---
warning: DO NOT CHANGE THIS MANUALLY, THIS IS GENERATED BY https://github/duckdb/community-extensions repository, check README there
title: yaml
excerpt: |
  DuckDB Community Extensions
  Read YAML files into DuckDB with native YAML type support, comprehensive extraction functions, and seamless JSON interoperability

extension:
  name: yaml
  description: Read YAML files into DuckDB with native YAML type support, comprehensive extraction functions, and seamless JSON interoperability
  version: 1.6.3
  language: C++
  build: cmake
  license: MIT
  maintainers:
    - teaguesterling

  # yaml package issues for windows in previous vcpkg
  vcpkg_commit: "656be05781442d5c4cb14978f6c7bf47b6e12b32"
  
repo:
  github: teaguesterling/duckdb_yaml
  ref: de60de55fb238c44661cef27373e82ab21920f43
  ref_next: de60de55fb238c44661cef27373e82ab21920f43

docs:
  hello_world: |
    -- Load the extension
    LOAD yaml;

    -- Query YAML files directly
    SELECT * FROM 'config.yaml';
    SELECT * FROM 'data/*.yml' WHERE active = true;

    -- Create tables with YAML columns
    CREATE TABLE configs(id INTEGER, config YAML);
    INSERT INTO configs VALUES (1, E'server: production\nport: 8080\nfeatures: [logging, metrics]');

    -- Extract data using YAML functions
    SELECT
        config ->> '$.server' AS environment,  -- Arrow operator
        yaml_extract(config, '$.port') AS port,
        yaml_value(config, '$.port') AS port_scalar
    FROM configs;

    -- Analyze YAML structure
    SELECT yaml_structure(config) FROM configs;
    -- Returns: {"server":"VARCHAR","port":"UBIGINT","features":["VARCHAR"]}

    -- Check containment and merge documents
    SELECT yaml_contains(config, 'server: production') AS is_prod FROM configs;
    SELECT yaml_merge_patch(config, 'debug: true') AS with_debug FROM configs;

    -- Convert between YAML and JSON
    SELECT yaml_to_json(config) AS json_config FROM configs;
    SELECT to_yaml({name: 'John', age: 30}) AS yaml_person;

    -- Write query results to YAML
    COPY (SELECT * FROM users) TO 'output.yaml' (FORMAT yaml, STYLE block);

  extended_description: |
    The YAML extension brings comprehensive YAML support to DuckDB, enabling seamless integration of YAML data within SQL queries. 
    
    **Key Features:**
    
    - **Native YAML Type**: Full YAML type support with automatic casting between YAML, JSON, and VARCHAR
    - **File Reading**: Read YAML files with `read_yaml()` and `read_yaml_objects()` functions supporting multi-document files, top-level sequences, and robust error handling
    - **Direct File Querying**: Query YAML files directly using `FROM 'file.yaml'` syntax
    - **Extraction Functions**: Query YAML data with `yaml_extract()`, `yaml_type()`, `yaml_exists()`, `yaml_value()`, `->>` operator, and path-based extraction
    - **Document Operations**: Check containment with `yaml_contains()`, merge documents with `yaml_merge_patch()`, and analyze structure with `yaml_structure()`
    - **Type Detection**: Comprehensive automatic type detection for temporal types (DATE, TIME, TIMESTAMP), optimal numeric types, and boolean values
    - **Column Type Specification**: Explicitly define column types when reading YAML files for schema consistency
    - **YAML Output**: Write query results to YAML files using `COPY TO` with configurable formatting styles
    - **Multi-Document Support**: Handle files with multiple YAML documents separated by `---`
    - **Error Recovery**: Continue processing valid documents even when some contain errors
    - **JSON Interoperability**: Seamless conversion between YAML and JSON formats
    - **Frontmatter Extraction**: Extract YAML frontmatter metadata from other files
    
    **Example Use Cases:**
    
    - Configuration file management and querying
    - Log file analysis and processing  
    - Data migration between YAML and relational formats
    - Integration with YAML-based CI/CD pipelines
    - Processing Kubernetes manifests and Helm charts
    
    The extension is built using yaml-cpp and follows DuckDB's extension development best practices, ensuring reliable performance and cross-platform compatibility.
    
    **Note**: This extension was written primarily using Claude and Claude Code as an exercise in AI-driven development.

extension_star_count: 14
extension_star_count_pretty: 14
extension_download_count: 556
extension_download_count_pretty: 556
image: '/images/community_extensions/social_preview/preview_community_extension_yaml.png'
layout: community_extension_doc
---

### Installing and Loading
```sql
INSTALL {{ page.extension.name }} FROM community;
LOAD {{ page.extension.name }};
```

{% if page.docs.hello_world %}
### Example
```sql
{{ page.docs.hello_world }}```
{% endif %}

{% if page.docs.extended_description %}
### About {{ page.extension.name }}
{{ page.docs.extended_description }}
{% endif %}

### Added Functions

<div class="extension_functions_table"></div>

|     function_name      | function_type | description | comment | examples |
|------------------------|---------------|-------------|---------|----------|
| copy_format_yaml       | scalar        | NULL        | NULL    |          |
| format_yaml            | scalar        | NULL        | NULL    |          |
| from_yaml              | scalar        | NULL        | NULL    |          |
| parse_yaml             | table         | NULL        | NULL    |          |
| read_yaml              | table         | NULL        | NULL    |          |
| read_yaml_frontmatter  | table         | NULL        | NULL    |          |
| read_yaml_objects      | table         | NULL        | NULL    |          |
| to_yaml                | scalar        | NULL        | NULL    |          |
| value_to_yaml          | scalar        | NULL        | NULL    |          |
| yaml                   | scalar        | NULL        | NULL    |          |
| yaml_agg               | aggregate     | NULL        | NULL    |          |
| yaml_array_elements    | table         | NULL        | NULL    |          |
| yaml_array_length      | scalar        | NULL        | NULL    |          |
| yaml_build_object      | scalar        | NULL        | NULL    |          |
| yaml_contains          | scalar        | NULL        | NULL    |          |
| yaml_each              | table         | NULL        | NULL    |          |
| yaml_exists            | scalar        | NULL        | NULL    |          |
| yaml_extract           | scalar        | NULL        | NULL    |          |
| yaml_extract_path      | scalar        | NULL        | NULL    |          |
| yaml_extract_path_text | scalar        | NULL        | NULL    |          |
| yaml_extract_string    | scalar        | NULL        | NULL    |          |
| yaml_get_default_style | scalar        | NULL        | NULL    |          |
| yaml_keys              | scalar        | NULL        | NULL    |          |
| yaml_merge_patch       | scalar        | NULL        | NULL    |          |
| yaml_set_default_style | scalar        | NULL        | NULL    |          |
| yaml_structure         | scalar        | NULL        | NULL    |          |
| yaml_to_json           | scalar        | NULL        | NULL    |          |
| yaml_type              | scalar        | NULL        | NULL    |          |
| yaml_valid             | scalar        | NULL        | NULL    |          |
| yaml_value             | scalar        | NULL        | NULL    |          |

### Overloaded Functions

<div class="extension_functions_table"></div>

| function_name | function_type | description | comment | examples |
|---------------|---------------|-------------|---------|----------|
| ->>           | scalar        | NULL        | NULL    |          |

### Added Types

<div class="extension_types_table"></div>

| type_name | type_size | logical_type | type_category | internal |
|-----------|----------:|--------------|---------------|---------:|
| yaml      | 16        | VARCHAR      | STRING        | true     |


