@use 'sass:color';
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;


/** WASM PAGE STYLES **/

body.wasm{

	.pagetitle h1{
		@include headline-1;
	}

	.selection-foldout{
		padding: 16px;
		background: var(--doc-codebox-background-color, #F2F2F2);
		-webkit-transition: background-color .3s;
		-o-transition: background-color .3s;
		transition: background-color .3s;
		margin-bottom: 8px;
		border-radius: 10px;
		border: 1px solid transparent;
		-webkit-transition: border .3s;
		-o-transition: border .3s;
		transition: border .3s;

		.selection-head{
			h3{
				@include title-1;
				cursor: pointer;
				position: relative;
				margin: 0;
				padding-right: 55px;
				.selected{
					@include label-1;
					margin-left: 20px;
				}
				&::after{
					content: " ";
					background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%230D0D0D' stroke-linecap='square' stroke-width='1.5' d='m18 9.5-6 6-6-6'/%3E%3C/svg%3E");
					background-color: var(--doc-codebox-button-background-color, #E6E6E6);
					background-size: contain;
					background-repeat: no-repeat;
					width: 28px;
					height: 28px;
					border-radius: 50%;
					position: absolute;
					right: 0px;
					top: -5px;
					-webkit-transition: -webkit-transform .3s;
					transition: -webkit-transform .3s;
					-o-transition: transform .3s;
					transition: transform .3s;
					transition: transform .3s, -webkit-transform .3s;
					cursor: pointer;
				}
			}

			a:hover{
				background-color: transparent;
			}
		}

		&.open h3::after{
			-webkit-transform: rotate(180deg);
				-ms-transform: rotate(180deg);
					transform: rotate(180deg);
		}

		&:hover{
			border-color: var(--doc-codebox-border-color);
		}

		h4{
			@include label-1;
		}

		&.disabled{
			display: none;
		}

	}

	.selection-foldout:not(.open) .selection-content{
		display: none;
		max-width: calc(100% - 55px);
		>p:first-child{
			margin-top: 0;
		}
	}

	.selection-head + .selection-content{
		padding-top: 24px;
	}

	// Form styling
	.form-row{
		display: flex;
		flex-wrap: wrap;
		gap: 16px;
		margin-bottom: 16px;

		.form-field{
			flex: 1;
			min-width: 200px;

			label{
				display: block;
				@include label-1;
				margin-bottom: 8px;
				font-weight: 600;
			}

			input, select{
				width: 100%;
				padding: 12px;
				border: 1px solid var(--doc-codebox-border-color, #E6E6E6);
				border-radius: 8px;
				background: var(--interactive-filterbox-background-color, #FAFAFA);
				transition: border-color .3s;
				font-weight: 500;
				color: var(--main-text-primary-color, #0D0D0D);

				&:focus{
					outline: none;
					border-color: var(--interactive-folderbox-border-color-hover, #CCC);
				}
			}

			&.form-field-with-inline-dropdown{
				label{
					display: flex;
					align-items: center;
					gap: 12px;

				select.inline-dropdown{
					width: 148px;
					padding: 4px 24px 4px 8px;
					border: none;
					border-radius: 4px;
					background: transparent;
					color: var(--main-text-tertiary-color, #B2B2B2);
					font-weight: 400;
					cursor: pointer;
					appearance: none;
					background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='none'%3E%3Cpath stroke='%23B2B2B2' stroke-linecap='square' stroke-width='1.5' d='m12 6-4 4-4-4'/%3E%3C/svg%3E");
					background-repeat: no-repeat;
					background-position: right 4px center;
					background-size: 16px;

					&:hover{
						color: var(--main-text-secondary-color, #666);
					}

					&:focus{
						outline: none;
						color: var(--main-text-primary-color, #0D0D0D);
					}
				}
				}
			}
		}
	}

	// Links container
	.links-container{
		display: flex;
		flex-wrap: wrap;
		gap: 8px;
		margin-bottom: 16px;

		a{
			display: inline-block;
			padding: 8px 12px;
			border: 1px solid var(--doc-codebox-border-color, #E6E6E6);
			border-radius: 6px;
			background: var(--main-background-color, #FFFFFF);
			color: var(--main-text-primary-color, #0D0D0D);
			text-decoration: none;
			@include label-1;
			transition: all .3s;

			&:hover{
				border-color: var(--interactive-folderbox-border-color-hover, #CCC);
				background: var(--doc-codebox-background-color, #F2F2F2);
			}
		}
	}

	.hidden{
		display: none;
	}
	
	// Table container
	.datasettable{
		position: relative;
		height: 80vh;
		width: 80vw;
		left: 50%;
		transform: translateX(-50%);
		padding: 20px;
		
		@media only screen and (max-width: 1160px) {
			width: 100%;
		}
	}
	
	regular-table {
		width: auto;
		max-width: 100%;
		height: 80vh;
		border: 1px solid var(--doc-codebox-border-color, #E6E6E6);
		border-radius: 6px;
		overflow: auto;
		margin-top: 2.5rem;
		
		table{
			font-size: 11px;
			margin: 0 auto; 
			
			thead{
				text-align: left;
			}
			
			th, td{
				padding: 10px 4px;
				border-bottom: 1px solid var(--doc-codebox-border-color, #E6E6E6);
			}
		}
	}

	pre{
		margin: 8px 0;
		padding: 16px;
		background: var(--doc-codebox-background-color, #F2F2F2);
		border: 1px solid var(--doc-codebox-border-color, #E6E6E6);
		border-radius: 8px;
		overflow-x: auto;
		font-size: var(--type-code, 14px);
		font-family: "JetBrainsMono-Regular", monospace;

		code{
			background: transparent;
			border: none;
			padding: 0;
			font-family: $fontMono;
		}
	}

	p{
		margin: 8px 0;

		&#last_query_status{
			@include label-1;
			font-weight: 600;
			color: var(--main-text-secondary-color, #666);
			margin-top: 16px;
			position: relative;
			padding-left: 20px; 
			
			&::before{
				content: "";
				position: absolute;
				left: 0;
				top: 50%;
				transform: translateY(-50%);
				width: 10px;
				height: 10px;
				border-radius: 50%;
				background-color: #7D66FF; 
				transition: background-color 0.3s ease;
			}
			
			&[data-status="idle"]::before{
				background-color: #00C770; 
			}
			
			&[data-status="error"]::before{
				background-color: #FF6900; 
			}
		}
	}

	
}
